Ruby2Make
---------

* Goal: Ruby DSL to generate Makefiles

* Status: Coming along. Can generate most of the Makefiles from my first C class,
  meaning that it can do simple Makefiles.  But its growing.

* Simple example: to make this Makefile,

    CC = gcc
    FLAGS = -g

    hello: hello.c
        $(CC) $(FLAGS) hello.c -o hello

    clean:
        -rm hello *.o

just use this Ruby:

    vars :FLAGS => "-g"

    rule "hello", :depends => "hello.c" do
        compile :output => "hello"
    end

    clean "hello", "*.o"
 
It's more readable, and it doesn't insanely require tabs and not spaces.

Examples
--------

* Three example files are included (note that examble2.rb is not complete as
  I have not implemented the .SUFFIXES macro used).

Syntax
------

vars [hash] 
    => Set Makefile macros (includes {:CC => "gcc", :FLAGS => ""})

rule [name] [optional depends hash] [block] 
    => Add a rule/target called name. If a hash like ':depends => "hello.o"'
       or ':depends => ["hello.o", "hello.h"]' is present, then those items
       are added as dependencies to the rule.

depends [args]
    => Add dependencies to a rule (must occure in rule declaration's block)

compile [args]
    => Without any args, uses '$(CC) $(FLAGS)' to compile the dependencies.
       :input and :output specify specific files, and you can add a '-c' flag
       with :to_obj. Must occur in a rule block.

command [args]
    => Add a custom line/command to a rule.

echo [message]
    => Shortcut for an often used command: `command "@echo #{message}"`

clean [files]
    => Shortcut to create a clean rule, with a '-rm' command for any [files].
